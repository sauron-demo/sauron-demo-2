initial_state: CodeReviewState
merged_state: MergedState

state_machine:
  CodeReviewState:
    status_checks:
      - merge-label:
          label_name: 'Run CircleCI'
    hotfix: true
    on_success:
      transition_state: CircleCIState
    on_failure:
      transition_state: CodeReviewState

  CircleCIState:
    status_checks:
      - circleci: null
      - LGTM:
          sticky: true
          keywords:
            - 'clear for merge'
    hotfix: true
    on_success:
      transition_state: QueuedState
    on_failure:
      transition_state: CodeReviewState

  QueuedState:
    status_checks:
      - merged: null
    on_success:
      transition_state: MergedState
    on_failure:
      transition_state: CodeReviewState

  MergedState:
    status_checks: []
    on_success:
      transition_state: null
    on_failure:
      transition_state: null

hotfix:
  approved_team_names:
    - Anti JLF Team
  hotfix:
    branch_name: master
    label_name: 'HOTFIX'
    on_success:
      transition_state: QueuedState
    on_failure:
      transition_state: CodeReviewState
